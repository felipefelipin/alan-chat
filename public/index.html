<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
  <title>Alana</title>

  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, proxy-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="mobile-web-app-capable" content="yes" />

  <link id="appcss" rel="stylesheet" href="./styles.css?v=init" />
</head>

<body>
  <div id="app"></div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <script>
    async function boot() {
      let v = Date.now(); // fallback
      try {
        const res = await fetch("./version.json", { cache: "no-store" });
        const j = await res.json();
        if (j && (j.v || j.v === 0)) v = j.v;
      } catch {}

      // CSS versionado
      const css = document.getElementById("appcss");
      css.href = "./styles.css?v=" + encodeURIComponent(v);

      // JS versionado
      const s = document.createElement("script");
      s.src = "./app.js?v=" + encodeURIComponent(v);
      document.body.appendChild(s);
    }

    boot();
  </script>
</body>
</html>